<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dynamic Product Listing</title>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet"
        />
        <style>
            .product-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 20px;
            }

            .product-card {
                border: 1px solid #eee;
                border-radius: 8px;
                overflow: hidden;
                transition:
                    transform 0.3s,
                    box-shadow 0.3s;
                background-color: #fff;
                display: flex;
                flex-direction: column;
            }

            .product-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                cursor: pointer;
            }

            .product-image-container {
                height: 200px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 15px;
            }

            .product-image {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }

            .product-info {
                padding: 15px;
                border-top: 1px solid #f5f5f5;
                flex-grow: 1;
            }

            .product-name {
                font-size: 16px;
                font-weight: 500;
                margin-bottom: 10px;
                height: 40px;
                overflow: hidden;
                text-overflow: ellipsis;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
            }

            .price-container {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 15px;
            }

            .new-price {
                font-size: 18px;
                font-weight: 600;
                color: #e44d26;
            }

            .old-price {
                font-size: 14px;
                color: #999;
                text-decoration: line-through;
            }

            .btn-shop-now {
                background-color: #0d6efd;
                color: white;
                width: 100%;
                padding: 8px 12px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                font-weight: 500;
                transition: background-color 0.3s;
            }

            .btn-shop-now:hover {
                background-color: #0b5ed7;
            }

            .product-footer {
                padding: 0 15px 15px 15px;
            }

            .section-title {
                text-align: center;
                margin-bottom: 30px;
                position: relative;
            }

            .section-title:after {
                content: "";
                display: block;
                width: 50px;
                height: 3px;
                background-color: #e44d26;
                margin: 10px auto;
            }

            .loading {
                text-align: center;
                padding: 30px;
                font-size: 18px;
                color: #666;
            }

            /* Product Detail Styles */
            #product-detail {
                display: none;
                padding: 20px;
            }

            .product-detail-container {
                display: flex;
                flex-direction: row;
                gap: 30px;
            }

            .product-images {
                width: 40%;
            }

            .main-image {
                width: 100%;
                height: 400px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-bottom: 20px;
                border: 1px solid #eee;
                border-radius: 8px;
            }

            .main-image img {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }

            .thumbnail-container {
                display: flex;
                gap: 10px;
                margin-bottom: 20px;
            }

            .thumbnail {
                width: 80px;
                height: 80px;
                border: 1px solid #ddd;
                border-radius: 4px;
                padding: 5px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .thumbnail img {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }

            .thumbnail.active {
                border-color: #0d6efd;
            }

            .product-details {
                width: 60%;
            }

            .product-title {
                font-size: 24px;
                font-weight: 600;
                margin-bottom: 15px;
            }

            .product-brand {
                margin-bottom: 15px;
                color: #666;
            }

            .product-rating {
                margin-bottom: 15px;
                color: #ffc107;
            }

            .viewer-count {
                color: #666;
                margin-bottom: 20px;
            }

            .detail-price {
                font-size: 24px;
                font-weight: 700;
                color: #e44d26;
                margin-bottom: 20px;
            }

            .shipping-info {
                color: #666;
                margin-bottom: 20px;
            }

            .color-options {
                margin-bottom: 20px;
            }

            .color-title {
                margin-bottom: 10px;
            }

            .color-selector {
                display: flex;
                gap: 10px;
            }

            .color-option {
                width: 30px;
                height: 30px;
                border-radius: 50%;
                cursor: pointer;
                border: 2px solid transparent;
            }

            .color-option.selected {
                border-color: #0d6efd;
            }

            .stock-info {
                color: #28a745;
                margin-bottom: 20px;
            }

            .btn-action {
                width: 100%;
                padding: 12px;
                margin-bottom: 10px;
            }

            .btn-cart {
                background-color: #0d9d7f;
                color: white;
                border: none;
            }

            .btn-buy {
                background-color: #000;
                color: white;
                border: none;
            }

            .clear-link {
                color: #0d6efd;
                text-decoration: none;
                font-size: 14px;
                cursor: pointer;
            }

            .back-to-products {
                display: inline-block;
                margin-bottom: 20px;
                color: #0d6efd;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <div class="container py-5">
            <!-- Product Listing View -->
            <div id="product-listing">
                <h2 class="section-title">Our Products</h2>

                <div id="product-container" class="product-grid">
                    <div class="loading">Loading products...</div>
                </div>
            </div>

            <!-- Product Detail View -->
            <div id="product-detail">
                <div class="back-to-products">
                    <i class="fas fa-arrow-left"></i> Back to products
                </div>

                <div class="product-detail-container">
                    <div class="product-images">
                        <div class="main-image">
                            <img id="detail-main-image" src="" alt="" />
                        </div>
                        <div class="thumbnail-container">
                            <!-- Thumbnails will be added dynamically -->
                        </div>
                    </div>

                    <div class="product-details">
                        <h1 class="product-title" id="detail-product-name"></h1>
                        <div class="product-brand">
                            Brand: <span id="detail-brand">Huawei</span>
                        </div>

                        <div class="product-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <span>(1 customer review)</span>
                            <a href="#" class="ms-3"
                                ><i class="far fa-heart"></i> Add To Wishlist</a
                            >
                            <a href="#" class="ms-3"
                                ><i class="fas fa-exchange-alt"></i> Compare</a
                            >
                        </div>

                        <div class="viewer-count" id="detail-viewers">
                            15 people are viewing this product right now
                        </div>

                        <div class="detail-price" id="detail-price"></div>

                        <div class="shipping-info">
                            Shipping calculated at checkout.
                        </div>

                        <div class="color-options">
                            <div class="color-title">
                                Color: <span id="selected-color">Brown</span>
                            </div>
                            <div class="color-selector">
                                <div
                                    class="color-option selected"
                                    style="background-color: #8b7d6b"
                                    data-color="Brown"
                                ></div>
                                <div
                                    class="color-option"
                                    style="background-color: #1a2b57"
                                    data-color="Navy"
                                ></div>
                                <div
                                    class="color-option"
                                    style="background-color: #ffffff"
                                    data-color="White"
                                ></div>
                                <div
                                    class="color-option"
                                    style="background-color: #f5deb3"
                                    data-color="Beige"
                                ></div>
                            </div>
                            <a class="clear-link mt-2">Clear</a>
                        </div>

                        <div class="stock-info">
                            <i class="fas fa-check"></i> 123 in stock
                        </div>

                        <div class="quantity-selector mb-3">
                            <select class="form-select" style="width: 100px">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>

                        <button class="btn btn-action btn-cart mb-3">
                            <i class="fas fa-shopping-cart"></i> Add To Cart
                        </button>

                        <button class="btn btn-action btn-buy">
                            <i class="fas fa-bolt"></i> Buy Now
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            // Sample product data in JSON format
            const productData = [
                {
                    id: 1,
                    name: "HomePod",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-20.4-min-300x300.jpg",
                    newPrice: 299.99,
                    oldPrice: 349.99,
                    brand: "Apple",
                },
                {
                    id: 2,
                    name: "JBL Go 2",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-18.1-min-300x300.jpg",
                    newPrice: 38.48,
                    oldPrice: 49.99,
                    brand: "JBL",
                },
                {
                    id: 3,
                    name: "NS_APMWH2",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-14.1-min-300x300.jpg",
                    newPrice: 159.99,
                    oldPrice: 199.99,
                    brand: "Apple",
                },
                {
                    id: 4,
                    name: "Galaxy Tab Pro",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-10.1-min-300x300.jpg",
                    newPrice: 29.99,
                    oldPrice: 39.99,
                    brand: "Samsung",
                },
                {
                    id: 5,
                    name: "Google Nest Audio",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-5.1-min-300x300.jpg",
                    newPrice: 99.99,
                    oldPrice: 129.99,
                    brand: "Google",
                },
                {
                    id: 6,
                    name: "Nest X Yale Smart Lock",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-4.1-min-300x300.jpg",
                    newPrice: 279.99,
                    oldPrice: 299.99,
                    brand: "Yale",
                },
                {
                    id: 7,
                    name: "Ring Stick Up Cam Battery",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-3.1-min-300x300.jpg",
                    newPrice: 129.99,
                    oldPrice: 149.99,
                    brand: "Huawei",
                },
                {
                    id: 8,
                    name: "Ring Wifi Video Doorbell",
                    imageUrl:
                        "https://xstore.b-cdn.net/elementor3/electronic-mega-market/wp-content/uploads/sites/4/2023/11/Image-product-11.1-min-300x300.jpg",
                    newPrice: 2779.99,
                    oldPrice: 2999.99,
                    brand: "Ring",
                },
            ];

            $(document).ready(function () {
                // Clear loading message
                $("#product-container").empty();

                // Function to format price with currency symbol
                function formatPrice(price) {
                    return "$" + price.toFixed(2);
                }

                // Loop through the product data and create HTML elements
                productData.forEach(function (product) {
                    const productCard = `
                    <div class="product-card" data-product-id="${product.id}">
                        <div class="product-image-container">
                            <img src="${product.imageUrl}" alt="${product.name}" class="product-image">
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">${product.name}</h3>
                            <div class="price-container">
                                <span class="new-price">${formatPrice(product.newPrice)}</span>
                                <span class="old-price">${formatPrice(product.oldPrice)}</span>
                            </div>
                        </div>
                        <div class="product-footer">
                            <button class="btn-shop-now">Shop Now</button>
                        </div>
                    </div>
                `;

                    // Append the product card to the container
                    $("#product-container").append(productCard);
                });

                // Add button click event
                $(document).on("click", ".btn-shop-now", function (e) {
                    e.stopPropagation(); // Prevent triggering the product card click
                    const productId = $(this)
                        .closest(".product-card")
                        .data("product-id");
                    showProductDetail(productId);
                });

                // Add product click event to show product details
                $(document).on("click", ".product-card", function () {
                    const productId = $(this).data("product-id");
                    showProductDetail(productId);
                });

                // Add back button click event
                $(document).on("click", ".back-to-products", function () {
                    $("#product-detail").hide();
                    $("#product-listing").show();
                });

                // Add color selector click event
                $(document).on("click", ".color-option", function () {
                    $(".color-option").removeClass("selected");
                    $(this).addClass("selected");
                    $("#selected-color").text($(this).data("color"));
                });

                // Add clear link click event
                $(document).on("click", ".clear-link", function () {
                    $(".color-option").removeClass("selected");
                    $("#selected-color").text("Select");
                });

                // Function to show product details
                function showProductDetail(productId) {
                    // Find the product data
                    const product = productData.find((p) => p.id === productId);

                    if (product) {
                        // Update product details
                        $("#detail-product-name").text(product.name);
                        $("#detail-brand").text(product.brand);
                        $("#detail-price").text(formatPrice(product.newPrice));
                        $("#detail-main-image").attr("src", product.imageUrl);
                        $("#detail-main-image").attr("alt", product.name);

                        // Generate thumbnails (using the same image 4 times as placeholder)
                        $(".thumbnail-container").empty();
                        for (let i = 0; i < 4; i++) {
                            const thumbnailClass =
                                i === 0 ? "thumbnail active" : "thumbnail";
                            const thumbnail = `
                            <div class="${thumbnailClass}">
                                <img src="${product.imageUrl}" alt="${product.name}">
                            </div>
                        `;
                            $(".thumbnail-container").append(thumbnail);
                        }

                        // Hide product listing and show product detail
                        $("#product-listing").hide();
                        $("#product-detail").show();

                        // Scroll to top
                        window.scrollTo(0, 0);
                    }
                }

                // Add thumbnail click event
                $(document).on("click", ".thumbnail", function () {
                    $(".thumbnail").removeClass("active");
                    $(this).addClass("active");

                    // In a real scenario, we would update the main image here
                    // For this example, we're using the same image for all thumbnails
                });
            });
        </script>
    </body>
</html>
